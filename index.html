<!DOCTYPE html>
<html>
  <head>
    <title>Star Land</title>
    <meta charset="utf-8" />
    <link rel="icon" href="img/favicon.jpg">
    <script type="text/javascript" src="js/google_api.js"></script>
    <script async defer src="https://apis.google.com/js/api.js"
      onload="this.onload=function(){};handleClientLoad()"
      onreadystatechange="if (this.readyState === 'complete') this.onload()">
    </script>
    
    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="css/main.css" rel="stylesheet">
  </head>
  <body>
    <ul class="topnav">
      <li><a class="active" href="#home">Star Land</a></li>
      <div class="buttons">
        <button id="authorize_button" class="btn btn-default">Authorize</button>
        <button id="signout_button" class="btn btn-default" style="display: none">Sign Out</button>
      </div>
    </ul>

    <div class="container">
      <ul class="nav nav-pills">
        <li class="active"><a data-toggle="pill" href="#history">生命歷程搜尋</a></li>
        <li><a data-toggle="pill" href="#name_list">名單搜尋</a></li>
      </ul>
      
      <div class="tab-content">
        <div id="history" class="tab-pane fade in active">
          <h3>生命歷程搜尋</h3>
          <div id="search_content_div" style="display: block">
            search type:
            <select id="search_select">
              <option value="會員編號" selected>會員編號</option>
              <option value="裝備">裝備</option>
              <option value="佈道">佈道</option>
              <option value="聚會">聚會</option>
              <option value="事工">事工</option>
              <option value="創意學校">創意學校</option>
            </select>
              
            <form action="javascript:showResult()" onSubmit="return showResult();">
              content:
              <input type="text" id="search_content" placeholder="Search..">
              <input type="button" id="search_button" class="btn btn-info" value="Search" onclick="showResult();">
            </form>
          </div>
        </div>
        <div id="name_list" class="tab-pane fade">
          <h3>名單搜尋</h3>
          <form action="javascript:showResult()" onSubmit="return showResult();">
            content:
            <input type="text" id="search_content" placeholder="Search..">
            <input type="button" id="search_button" class="btn btn-info" value="Search" onclick="showResult();">
          </form>
        </div>
      </div>
    </div>
    <br>
    <!-- show result -->
    <div id="result" style="white-space: pre-wrap;"></div>
    <div style="width:40%">
      <canvas id="myChart"></canvas>
    </div>

    <script type="text/javascript">
      let githubURL = new URL(document.URL)
      // Client ID and API key from the Developer Console
      var CLIENT_ID = githubURL.searchParams.get("CLIENT_ID");
      var API_KEY = githubURL.searchParams.get("API_KEY");
      var SCRIPT_ID = "1Tjh4mJ0cB6efIiRowOIOmzshwwDBbzCNPhzJnh1MafWhOhrXUQrK9Tj8";
      // Array of API discovery doc URLs for APIs used by the quickstart
      var DISCOVERY_DOCS = ["https://sheets.googleapis.com/$discovery/rest?version=v4"];
      // Authorization scopes required by the API; multiple scopes separated by spaces.
      var SCOPES = "https://www.googleapis.com/auth/spreadsheets";
      
      var authorizeButton = document.getElementById('authorize_button');
      var signoutButton = document.getElementById('signout_button');

      var ctx = document.getElementById("myChart");
      var searchSelect = document.getElementById('search_select');
      var searchContentDiv = document.getElementById('search_content_div');
      var searchContent = document.getElementById('search_content');
    </script>
    <script type="text/javascript" src="js/params.js"></script>
    <script type="text/javascript" src="js/show.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.js"></script>

    <!-- jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- Bootstrap Core JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  </body>
</html>
